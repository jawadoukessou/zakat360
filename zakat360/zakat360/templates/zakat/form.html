{% extends "base.html" %}

{% block title %}{{ _('Calculateur de Zakat') }} - Zakat360{% endblock %}

{% block content %}
<div class="row mb-4">
    <div class="col-12">
<h1 class="h3 icon-title"><span class="emoji-badge">üßÆ</span>{{ _('Calculateur de Zakat') }}</h1>
    </div>
</div>

<form method="POST" action="{{ url_for('zakat.compute') }}">
    <input type="hidden" name="csrf_token" value="{{ csrf_token }}">
    <div class="row g-3">
        <div class="col-md-4">
            <label class="form-label">{{ _('Liquidit√©s (MAD)') }}</label>
            <input type="number" step="0.01" min="0" name="cash_mad" class="form-control" required>
        </div>
        <div class="col-md-4">
            <label class="form-label">{{ _('Or (grammes)') }}</label>
            <input type="number" step="0.01" min="0" name="gold_g" class="form-control">
        </div>
        <div class="col-md-4">
            <label class="form-label">{{ _('Argent (grammes)') }}</label>
            <input type="number" step="0.01" min="0" name="silver_g" class="form-control">
        </div>
        <div class="col-md-4">
            <label class="form-label">{{ _('Investissements (MAD)') }}</label>
            <input type="number" step="0.01" min="0" name="investments_mad" class="form-control">
        </div>
        <div class="col-md-4">
            <label class="form-label">{{ _('Stocks/Inventaire (MAD)') }}</label>
            <input type="number" step="0.01" min="0" name="inventory_mad" class="form-control">
        </div>
        <div class="col-md-4">
            <label class="form-label">{{ _('Cr√©ances (MAD)') }}</label>
            <input type="number" step="0.01" min="0" name="receivables_mad" class="form-control">
        </div>
        <div class="col-md-4">
            <label class="form-label">{{ _('Dettes court terme (MAD)') }}</label>
            <input type="number" step="0.01" min="0" name="dettes_ct" class="form-control">
        </div>
        <div class="col-md-4">
            <label class="form-label">{{ _('Base') }}</label>
            <select class="form-select" name="basis">
                <option value="or">{{ _('Or') }}</option>
                <option value="argent">{{ _('Argent') }}</option>
            </select>
        </div>
    </div>
    <div class="mt-4">
        <button class="btn btn-primary" type="submit"><i class="fas fa-equals me-2"></i>{{ _('Calculer') }}</button>
    </div>
</form>

<!-- Bloc d'explications sur la Zakat -->
<div class="card mt-4 shadow-sm">
    <div class="card-header d-flex align-items-center">
        <i class="fas fa-info-circle me-2"></i>
        <strong>{{ _('Explications sur la Zakat') }}</strong>
    </div>
    <div class="card-body">
        <p class="mb-3">{{ _('La Zakat est un pilier de l‚ÄôIslam. Elle consiste √† donner 2,5%% de la richesse nette √©ligible, lorsque celle-ci atteint le nisab pendant une ann√©e lunaire.') }}</p>
        <div class="row">
            <div class="col-md-6">
                <h6 class="fw-bold mb-2">{{ _('Qu‚Äôest-ce que le nisab ?') }}</h6>
                <p class="mb-2">{{ _('Seuil minimum de richesse rendant la Zakat obligatoire. Vous pouvez choisir la base Or ou Argent. Le calcul se fait selon les prix du jour affich√©s.') }}</p>
                <ul class="mb-3">
                    <li>{{ _('Base Or : ~85 g d‚Äôor') }}</li>
                    <li>{{ _('Base Argent : ~595 g d‚Äôargent') }}</li>
                </ul>
            </div>
            <div class="col-md-6">
                <h6 class="fw-bold mb-2">{{ _('Que faut-il inclure dans l‚Äôassiette ?') }}</h6>
                <ul class="mb-2">
                    <li>{{ _('Liquidit√©s, or/argent, investissements licites, stock marchand, cr√©ances recouvrables') }}</li>
                    <li>{{ _('√Ä d√©duire : dettes exigibles √† court terme') }}</li>
                    <li>{{ _('Exclus : r√©sidence principale, biens d‚Äôusage, retraite bloqu√©e, outils de travail') }}</li>
                </ul>
            </div>
        </div>
        <div class="row">
            <div class="col-md-6">
                <h6 class="fw-bold mb-2">{{ _('Taux et √©ch√©ance') }}</h6>
                <p class="mb-2">{{ _('Le taux est de 2,5%% (1/40e) sur la richesse nette √©ligible au terme d‚Äôune ann√©e lunaire (hawl).') }}</p>
            </div>
            <div class="col-md-6">
                <h6 class="fw-bold mb-2">{{ _('Conseils pratiques') }}</h6>
                <ul class="mb-0">
                    <li>{{ _('Fixez une date annuelle de Zakat et conservez un registre.') }}</li>
                    <li>{{ _('La base Argent est plus inclusive ; la base Or est souvent utilis√©e.') }}</li>
                    <li>{{ _('Voir la page √Ä propos pour la m√©thodologie d√©taill√©e.') }}</li>
                </ul>
            </div>
        </div>
        <a href="{{ url_for('main.about') }}" class="btn btn-outline-secondary btn-sm mt-3"><i class="fas fa-book me-2"></i>{{ _('En savoir plus') }}</a>
    </div>
</div>
{% endblock %}
